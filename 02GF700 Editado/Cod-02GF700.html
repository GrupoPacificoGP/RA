<!doctype html>
<html lang="en">
  <head>
    <title>02GF700 FREG. MON. INOX MANG. SILIC BLANC Y NEGRO</title>
     <link rel="icon" href="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/Logo%20FP.png" type="image/icon type">
    <meta charset="utf-8">
    <meta name="description" content="FREG. MON. INOX MANG. SILIC BLANC Y NEGRO">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="https://raw.githack.com/GrupoPacificoGP/RA/main/02GF700%20Editado/styles.css" rel="stylesheet"/>
  </head>
  <body>
    <!-- <model-viewer> HTML element -->
    <model-viewer id="dimension-demo" src="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/02GF700-Ne.glb" 
    poster="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/Poster-02GF700.webp" shadow-intensity="0" 
    ar ar-modes="webxr"
    ar-scale="fixed" 
    camera-controls touch-action="pan-y"
    max-camera-orbit="auto 100deg auto"
    alt="FREG. MON. INOX MANG. SILIC BLANC Y NEGRO"
    environment-image="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/bathroom_4k_v3.png"
    camera-orbit="-1830deg 84.62deg 1.158m" 
    field-of-view="30deg">
    <button slot="hotspot-dot+X-Y+Z" class="dot" data-position="1 -1 1" data-normal="1 0 0"></button>
    <button slot="hotspot-dim+X-Y" class="dim" data-position="1 -1 0" data-normal="1 0 0"></button>
    <button slot="hotspot-dot+X-Y-Z" class="dot" data-position="1 -1 -1" data-normal="1 0 0"></button>
    <button slot="hotspot-dim+X-Z" class="dim" data-position="1 0 -1" data-normal="1 0 0"></button>
    <button slot="hotspot-dot+X+Y-Z" class="dot" data-position="1 1 -1" data-normal="0 1 0"></button>
    <button slot="hotspot-dim+Y-Z" class="dim" data-position="0 -1 -1" data-normal="0 1 0"></button>
    <button slot="hotspot-dot-X+Y-Z" class="dot" data-position="-1 1 -1" data-normal="0 1 0"></button>
    <button slot="hotspot-dim-X-Z" class="dim" data-position="-1 0 -1" data-normal="-1 0 0"></button>
    <button slot="hotspot-dot-X-Y-Z" class="dot" data-position="-1 -1 -1" data-normal="-1 0 0"></button>
    <button slot="hotspot-dim-X-Y" class="dim" data-position="-1 -1 0" data-normal="-1 0 0"></button>
    <button slot="hotspot-dot-X-Y+Z" class="dot" data-position="-1 -1 1" data-normal="-1 0 0"></button>
    <svg id="dimLines" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" class="dimensionLineContainer">
      <line class="dimensionLine"></line>
      <line class="dimensionLine"></line>
      <line class="dimensionLine"></line>
      <line class="dimensionLine"></line>
      <line class="dimensionLine"></line>
    </svg>

    <div id="controls" class="dim" style="display: none;">
      <label for="src">Producto:</label>
      <select id="src">
        <option value="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/02GF700-Ne.glb">Negra</option>
        <option value="https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/02GF700-Ne.glb">Blanca</option>
      </select><br>
    </div>
    <div id="controls" class="dim" >
      <label for="show-dimensions">Mostrar Dimensiones:</label>
      <input id="show-dimensions" type="checkbox" checked="true">
    </div>
    
    <div class="slider">
      <div class="slides">
        <button class="slide selected" id="src" onclick="switchSrc(this, '02GF700-Ne')" style="background-image: url('https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/Poster-02GF700BlNe.webp');">
        </button><button class="slide" onclick="switchSrc(this, '02GF700-Bl')" style="background-image: url('https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/Poster-02GF700Bl.webp');">
      </button></div>
    </div>
  </model-viewer>
  <script src="https://github.com/GrupoPacificoGP/RA/blob/main/02GF700%20Editado/Script-02GF700.js"></script>
  <!-- Loads <model-viewer> for browsers: -->
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.0.1/model-viewer.min.js"></script>
  
  <script type="module">
    const modelViewer = document.querySelector('#dimension-demo');
    window.switchSrc = (element, name) => {
        const base = "https://raw.githubusercontent.com/GrupoPacificoGP/RA/main/02GF700%20Editado/" + name;
        modelViewer.src = base + '.glb';
        modelViewer.poster = base + '.webp';
        const slides = document.querySelectorAll(".slide");
        slides.forEach((element) => {element.classList.remove("selected");});
        element.classList.add("selected");
      };
      document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
        // Keep slider interactions from affecting the XR scene.
        ev.preventDefault();
      });
  
    const checkbox = modelViewer.querySelector('#show-dimensions');
  
    function setVisibility(element) {
      if (checkbox.checked) {
        element.classList.remove('hide');
      } else {
        element.classList.add('hide');
      }
    }
  
    checkbox.addEventListener('change', () => {
      setVisibility(modelViewer.querySelector('#dimLines'));
      modelViewer.querySelectorAll('button').forEach((hotspot) => {
        setVisibility(hotspot);
      });
    });
  
    // update svg
    function drawLine(svgLine, dotHotspot1, dotHotspot2, dimensionHotspot) {
      if (dotHotspot1 && dotHotspot2) {
        svgLine.setAttribute('x1', dotHotspot1.canvasPosition.x);
        svgLine.setAttribute('y1', dotHotspot1.canvasPosition.y);
        svgLine.setAttribute('x2', dotHotspot2.canvasPosition.x);
        svgLine.setAttribute('y2', dotHotspot2.canvasPosition.y);
  
        // use provided optional hotspot to tie visibility of this svg line to
        if (dimensionHotspot && !dimensionHotspot.facingCamera) {
          svgLine.classList.add('hide');
        }
        else {
          svgLine.classList.remove('hide');
        }
      }
    }
  
    const dimLines = modelViewer.querySelectorAll('line');
  
    const renderSVG = () => {
      drawLine(dimLines[0], modelViewer.queryHotspot('hotspot-dot+X-Y+Z'), modelViewer.queryHotspot('hotspot-dot+X-Y-Z'), modelViewer.queryHotspot('hotspot-dim+X-Y'));
      drawLine(dimLines[1], modelViewer.queryHotspot('hotspot-dot+X-Y-Z'), modelViewer.queryHotspot('hotspot-dot+X+Y-Z'), modelViewer.queryHotspot('hotspot-dim+X-Z'));
      drawLine(dimLines[2], modelViewer.queryHotspot('hotspot-dot+X+Y-Z'), modelViewer.queryHotspot('hotspot-dot-X+Y-Z')); // always visible
      drawLine(dimLines[3], modelViewer.queryHotspot('hotspot-dot-X+Y-Z'), modelViewer.queryHotspot('hotspot-dot-X-Y-Z'), modelViewer.queryHotspot('hotspot-dim-X-Z'));
      drawLine(dimLines[4], modelViewer.queryHotspot('hotspot-dot-X-Y-Z'), modelViewer.queryHotspot('hotspot-dot-X-Y+Z'), modelViewer.queryHotspot('hotspot-dim-X-Y'));
    };
  
    modelViewer.addEventListener('camera-change', renderSVG);
  
    modelViewer.addEventListener('load', () => {
      const center = modelViewer.getBoundingBoxCenter();
      const size = modelViewer.getDimensions();
      const x2 = size.x / 2;
      const y2 = size.y / 2;
      const z2 = size.z / 2;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot+X-Y+Z',
        position: `${center.x + x2} ${center.y - y2} ${center.z + z2}`
      });
  
      modelViewer.updateHotspot({
        name: 'hotspot-dim+X-Y',
        position: `${center.x + x2 * 1.2} ${center.y - y2 * 1.1} ${center.z}`
      });
      modelViewer.querySelector('button[slot="hotspot-dim+X-Y"]').textContent =
          `${(size.z * 100).toFixed(0)} cm`;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot+X-Y-Z',
        position: `${center.x + x2} ${center.y - y2} ${center.z - z2}`
      });
  
      modelViewer.updateHotspot({
        name: 'hotspot-dim+X-Z',
        position: `${center.x + x2 * 1.2} ${center.y} ${center.z - z2 * 1.2}`
      });
      modelViewer.querySelector('button[slot="hotspot-dim+X-Z"]').textContent =
          `${(size.y* 100).toFixed(0)} cm`;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot+X+Y-Z',
        position: `${center.x + x2} ${center.y + y2} ${center.z - z2}`
      });
  
      modelViewer.updateHotspot({
        name: 'hotspot-dim+Y-Z',
        position: `${center.x} ${center.y + y2 * 1.1} ${center.z - z2 * 1.1}`
      });
      modelViewer.querySelector('button[slot="hotspot-dim+Y-Z"]').textContent =
          `${(size.x * 100).toFixed(0)} cm`;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot-X+Y-Z',
        position: `${center.x - x2} ${center.y + y2} ${center.z - z2}`
      });
  
      modelViewer.updateHotspot({
        name: 'hotspot-dim-X-Z',
        position: `${center.x - x2 * 1.2} ${center.y} ${center.z - z2 * 1.2}`
      });
      modelViewer.querySelector('button[slot="hotspot-dim-X-Z"]').textContent =
          `${(size.y * 100).toFixed(0)} cm`;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot-X-Y-Z',
        position: `${center.x - x2} ${center.y - y2} ${center.z - z2}`
      });
  
      modelViewer.updateHotspot({
        name: 'hotspot-dim-X-Y',
        position: `${center.x - x2 * 1.2} ${center.y - y2 * 1.1} ${center.z}`
      });
      modelViewer.querySelector('button[slot="hotspot-dim-X-Y"]').textContent =
          `${(size.z * 100).toFixed(0)} cm`;
  
      modelViewer.updateHotspot({
        name: 'hotspot-dot-X-Y+Z',
        position: `${center.x - x2} ${center.y - y2} ${center.z + z2}`
      });
  
      renderSVG();
    });
  </script>
  <style>
    model-viewer {
  background-color: #eee;
  overflow-x: hidden;
}
    #controls {
      position:absolute;
      bottom: 16px;
      left: 16px;
      max-width: unset;
      transform: unset;
      pointer-events: auto;
      z-index: 100;
      left:0em; 
      top:520px;
    }
  
    .dot{
      display: none;
    }
  
    .dim{
      background: #ffffff;
      border-radius: 4px;
      border: none;
      box-sizing: border-box;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0);
      color: rgba(0, 0, 0, 1);
      display: block;
      font-family: Futura, Helvetica Neue, sans-serif;
      font-size: 1em;
      font-weight: 700;
      max-width: 128px;
      overflow-wrap: break-word;
      padding: 0.5em 1em;
      position:absolute;
      width: max-content;
      height: max-content;
      transform: translate3d(-50%, -50%, 0);
      pointer-events: none;
      --min-hotspot-opacity: 0;
    }
  
    @media only screen and (max-width: 800px) {
      .dim{
        font-size: 3vw;
      }
    }
  
    .dimensionLineContainer{
      pointer-events: none;
      display: block;
    }
  
    .dimensionLine{
      stroke: #00aeff;
      stroke-width: 2;
      stroke-dasharray: 2;
    }
  
    .hide{
      display: none;
    }
    /* This keeps child nodes hidden while the element loads */
    :not(:defined) > * {
      display: none;
    }
    .slider {
  width: 100%;
  text-align: center;
  overflow: hidden;
  position: absolute;
  bottom: 16px;
}

.slides {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.slide {
  scroll-snap-align: start;
  flex-shrink: 0;
  width: 100px;
  height: 100px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff;
  margin-right: 10px;
  border-radius: 10px;
  border: none;
  display: flex;
}

.slide.selected {
  border: 2px solid #4285f4;
}

.slide:focus {
  outline: none;
}

.slide:focus-visible {
  outline: 1px solid #4285f4;
}
  </style>
  </body>
  </html>
